# 动态限速

## 动态限速相关配置
| 参数名                      | 默认值     | 说明                                             |
|--------------------------|---------|------------------------------------------------|
| `dy_limit_enable`        | `false` | 动态限速总开关                                        |
| `dy_limit_duration`      | 无       | 设置启用限速的时间段，留空表示全天限速                            |
| `dy_limit_trigger_time`  | `60`    | 触发限速时间，秒                                       |
| `dy_limit_trigger_speed` | `100`   | 触发限速阈值，Mbps                                    |
| `dy_limit_speed`         | `30`    | 触发限速后的限速值，Mbps                                 |
| `dy_limit_time`          | `600`   | 触发限速后的限速时间，秒                                   |
| `dy_limit_white_user_id` | 无       | 动态限速用户白名单，填写用户id，以`,`分隔多个用户id，在白名单的用户永远不会被动态限速 |

## 限速时间段解释
 - 时间段的时间以`UTC+8`时区为准，确保服务器的`unix 时间戳正确`，否则将造成限速时间段与配置不一致的情况
 - 支持配置多个时间段，每个时间段以逗号`,`分隔
 - 单个时间段不可跨 24 点，例如: `20:00-02:00`是错误的写法
 - 时间段配置示例: `20:00-24:00,00:00-02:00,10:00-14:00`

## 动态限速配置解释

以默认配置为例，启用动态限速后，假设`用户A`原始限速值为`300Mbps`

当`用户A`在`60秒`内的均速超过`100Mbps`，则`用户A`被限速到`30Mbps`

持续`600秒`后`用户A`的限速解除，恢复到原始限速值`300Mbps`
